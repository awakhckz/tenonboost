var ie=Object.defineProperty,ue=Object.defineProperties;var de=Object.getOwnPropertyDescriptors;var G=Object.getOwnPropertySymbols;var ce=Object.prototype.hasOwnProperty,pe=Object.prototype.propertyIsEnumerable;var A=(i,n,o)=>n in i?ie(i,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):i[n]=o,q=(i,n)=>{for(var o in n||(n={}))ce.call(n,o)&&A(i,o,n[o]);if(G)for(var o of G(n))pe.call(n,o)&&A(i,o,n[o]);return i},Q=(i,n)=>ue(i,de(n));var C=(i,n,o)=>new Promise((b,r)=>{var y=l=>{try{g(o.next(l))}catch(u){r(u)}},s=l=>{try{g(o.throw(l))}catch(u){r(u)}},g=l=>l.done?b(l.value):Promise.resolve(l.value).then(y,s);g((o=o.apply(i,n)).next())});import{h as d,i as R,o as D,c as v,b as t,j as O,e as S,t as p,n as H,F as z,k as J,g as m,l as K,a as N,d as ve,f as me,m as $,v as F}from"./index-BZb761H4.js";import{a as _}from"./index-BOj2p4ON.js";import{_ as fe}from"./Header-D_zkAvAt.js";import{F as ye}from"./Footer-Dsxk-x83.js";import{_ as L}from"./_plugin-vue_export-helper-DlAUqK2U.js";const W="data:image/svg+xml,%3csvg%20viewBox='0%200%20200%20200'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='%23410C66'%20d='M30,-43.7C42.5,-32.2,58.7,-28.3,61.3,-20C63.8,-11.7,52.8,0.9,48.1,15.8C43.5,30.7,45.4,47.9,38.4,53.9C31.5,60,15.7,54.9,-0.9,56.1C-17.5,57.3,-35,64.8,-44.5,59.5C-54,54.3,-55.6,36.4,-54.2,22C-52.8,7.6,-48.6,-3.4,-47.8,-18.5C-47,-33.6,-49.6,-52.7,-42.2,-65.9C-34.8,-79,-17.4,-86.2,-4.3,-80.2C8.7,-74.3,17.5,-55.2,30,-43.7Z'%20transform='translate(100%20100)'%20/%3e%3c/svg%3e",ge={class:"relative w-full"},be={key:0,class:"absolute list z-40 mt-1 w-full bg-gray-900 border border-gray-700 rounded-md shadow-lg max-h-60 overflow-y-auto"},xe=["onClick"],we={__name:"CurrencyDropdown",props:{modelValue:String,currencies:Array},emits:["update:modelValue"],setup(i,{emit:n}){const o=i,b=n,r=d(!1),y=d(o.modelValue),s=l=>{y.value=l,b("update:modelValue",l),r.value=!1};R(()=>o.modelValue,l=>{y.value=l});const g=l=>{l.target.closest(".relative")||(r.value=!1)};return D(()=>{document.addEventListener("click",g)}),(l,u)=>(m(),v("div",ge,[t("div",{class:"bg-gray-800 list text-white border border-gray-700 rounded-md px-4 py-2 cursor-pointer flex justify-between items-center",onClick:u[0]||(u[0]=x=>r.value=!r.value)},[S(p(y.value||"Select a currency")+" ",1),(m(),v("svg",{class:H(["w-4 h-4 ml-2 transition-transform",{"rotate-180":r.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},u[1]||(u[1]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),r.value?(m(),v("ul",be,[(m(!0),v(z,null,J(i.currencies,x=>(m(),v("li",{key:x,onClick:h=>s(x),class:"px-4 py-2 text-white hover:bg-gray-700 cursor-pointer z-"},p(x),9,xe))),128))])):O("",!0)]))}},he=L(we,[["__scopeId","data-v-dd3b7200"]]),ke={class:"relative w-full"},Ce={key:0,class:"absolute list z-50 mt-1 w-full bg-gray-900 border border-gray-700 rounded-md shadow-lg max-h-60 overflow-y-auto"},Se=["onClick"],Ne={__name:"Category&ServicesDropDown",props:{modelValue:[String,Object],options:Array,placeholder:String,labelKey:String},emits:["update:modelValue"],setup(i,{emit:n}){const o=i,b=n,r=d(!1),y=d(""),s=l=>l?typeof l=="object"&&o.labelKey?l[o.labelKey]:l:"",g=l=>{y.value=s(l),b("update:modelValue",l),r.value=!1};return R(()=>o.modelValue,l=>{y.value=s(l)}),D(()=>{y.value=s(o.modelValue),document.addEventListener("click",l=>{l.target.closest(".relative")||(r.value=!1)})}),(l,u)=>(m(),v("div",ke,[t("div",{class:"bg-gray-800 list text-white border border-gray-700 rounded-md px-4 py-2 cursor-pointer flex justify-between items-center",onClick:u[0]||(u[0]=x=>r.value=!r.value)},[t("span",null,p(y.value||i.placeholder),1),(m(),v("svg",{class:H(["w-4 h-4 ml-2 transition-transform",{"rotate-180":r.value}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},u[1]||(u[1]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)]),2))]),r.value?(m(),v("ul",Ce,[(m(!0),v(z,null,J(i.options,(x,h)=>(m(),v("li",{key:h,onClick:V=>g(x),class:"px-4 py-2 text-white hover:bg-gray-700 cursor-pointer"},p(s(x)),9,Se))),128))])):O("",!0)]))}},Y=L(Ne,[["__scopeId","data-v-9b87255e"]]),Ve={class:"flex flex-col text-gray-200 secondary relative w-full gap-6"},Pe={key:0,class:"fixed inset-0 bg-transparent flex items-center justify-center z-50"},$e={class:"errModal bg-purple-900 p-6 rounded-lg max-w-md w-full"},Fe={class:"text-lg font-bold mb-4"},Oe={class:"mb-4"},Ee={class:"flex flex-col place-items-center secondary w-full relative overflow-x-hidden pt-32 gap-12"},Te={class:"flex flex-col gap-4 z-40"},_e={class:"flex flex-col gap-4"},Re={class:"flex flex-col gap-4"},De={class:"flex flex-col gap-4"},ze=["min","max"],Le={class:"flex flex-col gap-4"},Me={class:"flex flex-col gap-4"},Ue={for:"totalPrice",class:"totalPrice"},Ie=["disabled"],je={key:0,class:"inline-block animate-spin"},Be={class:"desc border w-[80%] max-w-[700px] h-fit p-4 mt-20 z-20"},Ge={class:"order-desc text-gray-200"},Ae={key:0},qe={key:1},Qe={__name:"Order",setup(i){const n=d(""),o=d("NGN"),b=d(""),r=d(""),y=d([]),s=d(null),g=d([]),l=d(""),u=d(""),x=d(""),h=d(!1),V=d({}),Z=r.value,E=d(!1),M=d(""),U=d(""),X=Z.split("@")[0].split(".").map(a=>a.charAt(0).toUpperCase()+a.slice(1).toLowerCase()).join(" "),ee=K(()=>g.value.filter(a=>b.value?a.category===b.value:!0).filter(a=>n.value?a.name.toLowerCase().includes(n.value.toLowerCase()):!0)),P=K(()=>{if(!s.value)return 0;const e=parseFloat(s.value.rate)*1.1;return(I(e,o.value)*l.value/1e3).toFixed(2)}),te=()=>C(this,null,function*(){try{const a=yield _.get("/api/services?api_key=127tenonenterprice127");g.value=a.data.services,ae(),yield T(),j()}catch(a){console.error("Error fetching services:",a)}}),T=()=>C(this,null,function*(){try{const a=yield _.get("https://api.exchangerate-api.com/v4/latest/USD");V.value=a.data.rates}catch(a){console.error("Error fetching exchange rates:",a)}}),I=(a,e)=>{const f=parseFloat(a);if(isNaN(f))return 0;if(e==="NGN")return f;const w=V.value[e];return w?f/V.value.NGN*w:0},j=()=>{g.value=g.value.map(a=>Q(q({},a),{convertedRate:I(a.rate,o.value)}))},ae=()=>{y.value=[...new Set(g.value.map(a=>a.category))]},le=()=>C(this,null,function*(){yield T(),j()});function oe(){return C(this,null,function*(){var a,e;if(!s.value||!u.value||!l.value||!r.value){k("Missing Information","Please fill all required fields");return}if(!B(r.value)){k("Invalid Email","Please enter a valid email address");return}if(P.value<100){k("Order Must Be At Least NGN 100");return}if(l.value<((a=s.value)==null?void 0:a.min)||l.value>((e=s.value)==null?void 0:e.max)){k("Invalid Quantity",`Please enter a quantity between ${s.value.min} and ${s.value.max}`);return}h.value=!0;try{if(!(yield re())){k("Email Failed","Could not send confirmation email. Please try again.");return}yield se()}catch(f){console.error("Order failed:",f),k("Order Failed","There was an error processing your order. Please try again.")}finally{h.value=!1}})}function B(a){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)}function k(a,e){M.value=a,U.value=e,E.value=!0}const se=()=>C(this,null,function*(){var a;try{const f=parseFloat(s.value.rate)*1.1*l.value/1e3,w=yield _.post("/api/generate-payment-link",{totalPrice:f,email:r.value,categoryType:b.value,serviceType:s.value.name,link:u.value,quantity:l.value});if((a=w.data)!=null&&a.paymentLink)window.location.href=w.data.paymentLink;else throw new Error("No payment link received")}catch(e){throw console.error("Payment error:",e),k("Payment Failed","Failed to initiate payment. Please try again."),e}});function re(){return C(this,null,function*(){var a;if(!r.value||!B(r.value))return console.error("Invalid email address"),!1;try{const e=((a=s.value)==null?void 0:a.name)||"No service selected",f=b.value||"No category selected",w=P.value||"0",ne=yield(yield fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({to:r.value,subject:"Order Received ‚Äì We're Processing Your Request!",html:`Hi ${X}, 
        <p>We wanted to let you know that we‚Äôve received your order, and it‚Äôs currently being processed.</p>
             <p>Please note that your payment is still being confirmed. Once your payment is processed, your order will be delivered to the link below.</p> <p>In the meantime, if you have any questions or need assistance, reach out to us at <a href="mailto:tenonboost@gmail.com">tenonboost@gmail.com</a></p> 
             <p>We appreciate your patience!</p> <p>Best regards,</p> <p>The Tenon Boost Team</p> <h3>You can see your order details below:</h3> 
               <h2 style="color:blue; font-size:20px;">Thank you for placing your order with us! üéâ</h2>
               <p>Service: ${e}</p>
               <p>Category: ${f}</p>
               <p>Link: ${u.value}</p>
               <p>Quantity: ${l.value}</p>
               <p>Total Price: ${o.value} ${w}</p>`})})).json();return console.log("Email sent:",ne),!0}catch(e){return console.error("Email error:",e),!1}})}return R(o,()=>{le()}),D(()=>{const a=new URLSearchParams(window.location.search);x.value=a.get("status"),te(),T()}),(a,e)=>{var f,w;return m(),v(z,null,[t("div",Ve,[N(fe,{class:"z-999"}),E.value?(m(),v("div",Pe,[t("div",$e,[t("h3",Fe,p(M.value),1),t("p",Oe,p(U.value),1),t("button",{onClick:e[0]||(e[0]=c=>E.value=!1),class:"bg-purple-700 text-white px-4 py-2 rounded hover:bg-purple-800"}," OK ")])])):O("",!0),t("div",Ee,[e[26]||(e[26]=ve('<div class="blob absolute top-0 w-[400px] -right-40 rotate-180" data-v-cb7f7368><img src="'+W+'" alt="tenonboost" data-v-cb7f7368></div><div class="blob absolute top-100 w-[400px] -left-40" data-v-cb7f7368><img src="'+W+'" alt="tenonboost" data-v-cb7f7368></div><div class="notice z-20 text-center w-[90%] max-w-[600px] gap-6 flex flex-col" data-v-cb7f7368><div data-v-cb7f7368><h1 class="text-2xl text-center text-orange-600" data-v-cb7f7368>Important Information!!!</h1><p data-v-cb7f7368> Follow instructions below to turn off <span class="font-bold text-blue-600" data-v-cb7f7368>Flag For Review</span> on Instagram. This is very important to make sure followers deliver safely. </p></div><div data-v-cb7f7368><h1 class="text-xl font-bold underline" data-v-cb7f7368>Steps to Disable the Feature:</h1><ul class="list-none flex flex-col gap-4" data-v-cb7f7368><li data-v-cb7f7368> 1Ô∏è‚É£ Open Instagram and go to <span class="text-orange-600 font-semi-bold" data-v-cb7f7368>Settings.</span></li><li data-v-cb7f7368> 2Ô∏è‚É£ Scrool Down <span class="text-orange-600 font-semi-bold" data-v-cb7f7368>Select Follow and Invite Friends.</span></li><li data-v-cb7f7368> 3Ô∏è‚É£ Scroll to the <span class="text-orange-600 font-semi-bold" data-v-cb7f7368>Flag for Review option and turn it OFF.</span></li><li data-v-cb7f7368><span class="text-orange-600 font-semi-bold" data-v-cb7f7368>Note:</span> Tenon Boost Won&#39;t take responsibility of any damages caused by failure to turn off this feature. </li><li data-v-cb7f7368> ‚ú® Tip: Double-check your settings to avoid any interruptions! Thank you for your cooperation. üôå </li></ul></div></div>',3)),t("label",Te,[e[9]||(e[9]=t("span",{class:"text-gray-200 text-lg"},"Select Currency",-1)),N(he,{modelValue:o.value,"onUpdate:modelValue":e[1]||(e[1]=c=>o.value=c),currencies:["NGN","USD","EUR","KES"],class:"z-40"},null,8,["modelValue"])]),t("form",{onSubmit:e[8]||(e[8]=me(()=>{},["prevent"])),class:"flex flex-col gap-4 p-6 w-[90%] z-20 max-w-[600px] border border-gray-200 rounded-xl shadow-md space-y-4 text-gray-200"},[e[15]||(e[15]=t("h2",{class:"text-xl font-bold text-center"},"Place An Order",-1)),$(t("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=c=>n.value=c),placeholder:"Search service...",class:"block w-full p-2 border rounded outline-none"},null,512),[[F,n.value]]),t("label",_e,[e[10]||(e[10]=t("span",{class:"text-gray-200 text-lg"},"Select Category",-1)),N(Y,{modelValue:b.value,"onUpdate:modelValue":[e[3]||(e[3]=c=>b.value=c),a.filterServicesByCategory],options:y.value,placeholder:"All Categories"},null,8,["modelValue","options","onUpdate:modelValue"])]),t("label",Re,[e[11]||(e[11]=t("span",{class:"text-gray-200 text-lg"},"Select Service",-1)),N(Y,{modelValue:s.value,"onUpdate:modelValue":e[4]||(e[4]=c=>s.value=c),options:ee.value,"label-key":"name",placeholder:"Select a service"},null,8,["modelValue","options"])]),t("label",De,[e[12]||(e[12]=t("span",{class:"text-gray-200 text-lg"},"Quantity",-1)),$(t("input",{type:"number","onUpdate:modelValue":e[5]||(e[5]=c=>l.value=c),class:"block w-full mt-1 p-2 border rounded outline-none",min:((f=s.value)==null?void 0:f.min)||1,max:((w=s.value)==null?void 0:w.max)||1e5},null,8,ze),[[F,l.value]])]),t("label",Le,[e[13]||(e[13]=t("span",{class:"text-gray-200 text-lg"},"Link",-1)),$(t("input",{type:"link","onUpdate:modelValue":e[6]||(e[6]=c=>u.value=c),class:"block w-full mt-1 p-2 border rounded outline-none"},null,512),[[F,u.value]])]),t("label",Me,[e[14]||(e[14]=t("span",{class:"text-gray-200 text-lg"},"Email",-1)),$(t("input",{type:"email","onUpdate:modelValue":e[7]||(e[7]=c=>r.value=c),required:"",pattern:"[^@\\s]+@[^@\\s]+\\.[^@\\s]+",class:"block w-full mt-1 p-2 border rounded outline-none"},null,512),[[F,r.value]])]),t("label",Ue,"Total Price: "+p(o.value)+" "+p(P.value),1),t("button",{type:"button",onClick:oe,disabled:h.value,class:"bg-purple-700 cursor-pointer text-center text-xl p-2 rounded-2xl hover:opacity-80"},[h.value?(m(),v("span",je,"‚Üª")):O("",!0),S(" "+p(h.value?"Processing.":"Place Order"),1)],8,Ie)],32),t("div",Be,[e[25]||(e[25]=t("p",{class:"header text-center text-xl text-gray-200"},"Order Description",-1)),t("div",Ge,[s.value?(m(),v("p",Ae,[e[16]||(e[16]=t("strong",null,"Service:",-1)),S(" "+p(s.value.name),1),e[17]||(e[17]=t("br",null,null,-1)),e[18]||(e[18]=t("strong",null,"Description:",-1)),S(" "+p(s.value.description),1),e[19]||(e[19]=t("br",null,null,-1)),e[20]||(e[20]=t("strong",null,"Min Quantity:",-1)),S(" "+p(s.value.min),1),e[21]||(e[21]=t("br",null,null,-1)),e[22]||(e[22]=t("strong",null,"Max Quantity:",-1)),S(" "+p(s.value.max),1),e[23]||(e[23]=t("br",null,null,-1)),e[24]||(e[24]=t("strong",null,"Rate:",-1)),S(" "+p(o.value)+" "+p(P.value)+" per 1k ",1)])):(m(),v("p",qe,"No service selected."))])])])]),N(ye,{class:"z-20 secondary"})],64)}}},et=L(Qe,[["__scopeId","data-v-cb7f7368"]]);export{et as default};
